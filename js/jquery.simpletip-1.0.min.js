(function(a){a.fn.SimpleTip=function(A){function r(a){switch(a){case "center":case "middle":return 1;case "right":case "bottom":return 2}return 0}var f=a.extend({my:"left bottom",at:"left top","class":"",timefade:500,timedelay:0,offsetx:15,offsety:-15},A);return this.each(function(){a(this).mouseover(function(){this.tip=this.title;this.title="";var g=a(this).offset(),w=a(this).outerWidth(),x=a(this).outerHeight(),t=a(window).width(),u=a(window).height(),h=a(window).scrollLeft(),k=a(window).scrollTop();
a('<div id="SimpleTip">'+this.tip+"</div>").appendTo("body").css({position:"absolute",display:"none"}).addClass(f["class"]);var q=function(){var l=a("#SimpleTip").outerWidth(),m=a("#SimpleTip").outerHeight(),d=f.my.split(" "),e=f.at.split(" ");d[0]=r(d[0]);d[1]=r(d[1]);e[0]=r(e[0]);e[1]=r(e[1]);for(var b,c,n=f.offsetx,p=f.offsety,v=!1,q=0;2>q;q++){switch(e[0]){case 0:b=g.left+n;break;case 1:b=g.left+n+w/2;break;case 2:b=g.left+n+w}switch(e[1]){case 0:c=g.top+p;break;case 1:c=g.top+p+x/2;break;case 2:c=
g.top+p+x}switch(d[0]){case 1:b-=l/2;break;case 2:b-=l}switch(d[1]){case 1:c-=m/2;break;case 2:c-=m}if(b+l>t+h||b<h)d[0]=2-d[0],e[0]=2-e[0],n=-n,v=!0;if(c+m>u+k||c<k)d[1]=2-d[1],e[1]=2-e[1],p=-p,v=!0;if(0==v)break}b<h&&(b=h);c<k&&(c=k);b>t+h-l&&(b=t+h-l);c>u+k-m&&(c=u+k-m);a("#SimpleTip").css({left:Math.round(b)+"px",top:Math.round(c)+"px"}).delay(f.timedelay).fadeIn(f.timefade)},y=0,z=a("#SimpleTip img").size();0==z?q():a("#SimpleTip img").bind("load error",function(){y++;y==z&&q()})});a(this).mouseout(function(){a("#SimpleTip").remove();
this.title=this.tip})})}})(jQuery);